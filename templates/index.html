{% extends "base.html" %}
{% block title %}Bem-Vindo{% endblock %}
{% block content %}
<div class="container">	

	<div class="accordion" id="accordMenu">
		<div class="accordion-item">
		  <h2 class="accordion-header" id="headingOne">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-megaphone-fill" viewBox="0 0 16 16">
					<path d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0v-11zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25.222 25.222 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56V3.224zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009a68.14 68.14 0 0 1 .496.008 64 64 0 0 1 1.51.048zm1.39 1.081c.285.021.569.047.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a65.81 65.81 0 0 1 1.692.064c.327.017.65.037.966.06z"/>
				</svg>
				&nbsp;
				Texto para voz
			</button>
		  </h2>
		  <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordMenu">
			<div class="accordion-body">
				<p>Envie uma mensagem que será lida em voz alta pelo smartphone.</p>
				<form action="{{ url_for('playsound') }}" method="POST">
					<div class="mb-3">						
						<textarea class="form-control" id="control-msg" name="control-msg" rows="3"></textarea>
					</div>
					<div class="float-end">
						<button type="submit" class="btn btn-secondary">Enviar</button>
					</div>
					<div class="clearfix"></div>
				</form>				
			</div>
		  </div>
		</div>
		<div class="accordion-item">
		  <h2 class="accordion-header" id="headingTwo">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
			  
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-phone" viewBox="0 0 16 16">
				<path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
				<path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
				</svg>
				&nbsp;
				SMS
			</button>
		  </h2>
		  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
			<div class="accordion-body">
				<p>Envie uma mensagem SMS</p>
				<form action="{{ url_for('sendsms') }}" method="POST">
					<div class="row mb-3">									
						<div class="col-auto">
							<input type="text" class="form-control" id="fonenumber" name="fonenumber" placeholder="Celular">
						</div>
					</div>
					<div class="mb-3">						
						<textarea class="form-control" id="message" name="message" placeholder="Mensagem" rows="3"></textarea>
					</div>
					<div class="float-end">
						<button type="submit" class="btn btn-secondary">Enviar</button>
					</div>
					<div class="clearfix"></div>
				</form>
			</div>
		  </div>
		</div>
		<div class="accordion-item">
		  <h2 class="accordion-header" id="headingThree">
			<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-calculator" viewBox="0 0 16 16">
					<path d="M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h8zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"/>
					<path d="M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"/>
				</svg>
				&nbsp;
				Regressão Linear Simples
			</button>
		  </h2>
		  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
			<div class="accordion-body">
				<input type="hidden" id='simples' value="simples">
				<p>
					<strong>Exercício de regressão linear</strong>
				</p>
				<p>Uma planilha guarda informações que mostram a relação entre a velocidade de um determinado veículo e o tamanho de sua frenagem.</p>
				<p>Com essas informações, pode-se tentar determinar a que velocidade o veículo estava no momento da frenagem.</p>
				<h5>Pequena amostra dos dados</h5>				
				
				<div class="col-md-4">
					<table class="table table-responsive table-bordered table-sm">
						<thead">
							<tr class="alinhamento bg-light">
								<th scope="col">Velocidade</th>
								<th scope="col">Distância</th>
							</tr>
						</thead>
						<tbody class="alinhamento" id='shape'></tbody>
					</table>
				</div>
				<br/>

				<form action="{{ url_for('linearRegression') }}" method="POST">
					<!-- <div class="mb-3">-->
					<div class="row row-cols-md-auto">
					<div class="col-md-3">
						<input type="text" class="form-control" id="distancia" name="distancia" placeholder="Distância da freada (metros)">
						
					</div>
					<div class="col-md-1">
						<button type="submit" class="btn btn-secondary float-end">Prever</button>
					</div>
					</div>
				</form>	
				
				<script type='text/javascript'>
					$(function(){
						$.getJSON('/loadData',{
							name: $('#simples').val(),
						}, 
						function(data) {
							console.log(data);
							console.log(data.dist[0]);

							for(i = 0; i <= 3; i++){
								
								var newRow = $('<tr>');
								var cols = '';
								
								cols += '<td>'+Math.round((data['speed'][i]) * 1.609344)+' KM/h</td>';
								cols += '<td>'+(data['dist'][i] * 0.3048)+' m</td>';
								newRow.append(cols);
								$('#shape').append(newRow);
							};
						});
						return false;
					});
				</script>
			</div>
		  </div>
		</div>

		<div class="accordion-item">
			<h2 class="accordion-header" id="headingFour">
				<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
					<svg aria-hidden="true" width="24" height="24" focusable="false" data-prefix="fas" data-icon="map-marker-alt" class="svg-inline--fa fa-map-marker-alt fa-w-12" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"></path></svg>
					&nbsp;
					Dados de GPS
				</button>
			</h2>
			<div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordMenu">
			  <div class="accordion-body">
				  <p>Visualizar rotas percorridas</p>
				  <form action="{{ url_for('gps') }}" method="GET">
					  
					  <div class="float-end">
						  <button type="submit" class="btn btn-secondary">Ir</button>
					  </div>
					  <div class="clearfix"></div>
					  
				  </form>				
			  </div>
			</div>
		  </div>


	  </div>	
</div>
{% endblock %}

